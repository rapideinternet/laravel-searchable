{"name":"Laravel Searchable","tagline":"Laravel search provider","body":"# Laravel Searchable\r\nMakes models extending the SearchableModel class searchable by indexing them using two database tables and an extensive autmatically generated word list. It uses and improved version of the Metaphone phonetic algorithm, published by Lawrence Philips in 1990. The DoubleMetaphone method tries to account for spelling errors by generating two versions of the phonetic representation of the word.\r\nExample model\r\n-------\r\n\r\n``` php\r\n<?php\r\n\r\nuse Searchable\\Models\\SearchableModel;\r\n\r\nclass Item extends SearchableModel {\r\n\t\r\n\t/**\r\n\t * The database table used by the model.\r\n\t *\r\n\t * @var string\r\n\t */\r\n\tprotected $table = 'items';\r\n\t\r\n\t/**\r\n\t * The attributes that are mass assignable.\r\n\t *\r\n\t * @var array\r\n\t */\r\n\tprotected $fillable = [ \r\n\t\t'name', \r\n\t\t'title',\r\n\t\t'content',\r\n\t\t];\r\n\t/**\r\n\t * The attributes that are automatically indexed and searchable.\r\n\t *\r\n\t * @var array\r\n\t */\r\n\tprotected $searchable = [\r\n\t\t'title' => 20,\r\n\t\t'content' => 5,\r\n\t\t];\t\r\n\r\n}\r\n```\r\n\r\nSetting up\r\n-------\r\nUpdate **composer.json** with the following entries\r\n```\r\n\"require\": {\r\n\t\"rapideinternet/laravel-searchable\": \"dev-master\"\r\n},\r\n\r\n\"repositories\": [\r\n\t{\r\n\t\t\"type\": \"vcs\",\r\n\t\t\"url\":  \"git@github.com:rapideinternet/laravel-searchable.git\"\r\n\t}\r\n],\r\n```\r\nUpdate your **config\\app.php**\r\n```\r\n'providers' => [\r\n\t...\r\n\t'Searchable\\SearchableServiceProvider',\r\n],\r\n\r\n'aliasses' => [\r\n\t...\r\n\t'Search'\t\t=> 'Searchable\\Facades\\Search',\r\n],\r\n```\r\nRun the following shell commands\r\n```\r\ncomposer update\r\nphp artisan vendor:publish\r\nphp artisan migrate\r\n```\r\nUpdate your models by changing the following lines\r\n```\r\nclass Website extends Model {\r\n```\r\nTo extend the SearchableModel class instead of the Model class\r\n```\r\nclass Website extends SearchableModel {\r\n```\r\nAdd an array of searchable attributes. Each attribute carries a weight. More weight means higher relevance.\r\n```\r\nprotected $searchable = [\r\n\t'name' => 20,\r\n\t'comments' => 5,\r\n\t...\r\n];\r\n```\r\nFor example if searching for the word **\"John\"**, one item may contain 1 occurence of the query in the **'name'** attribute while another item contains 3 occurences of the query in the **'comments'** attribute.\r\n\r\nThe result would be that the first item has a score of 20 while the second item has a score of 15 and is ranked lower because the 'name' attirubte is more relevant.\r\n\r\nIndexing\r\n-------\r\nEvery time a model is saved or stored, it will automatically index the words present in the searchable array\r\n\r\nScheduler\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}